\chapter{Fundamentos}
\label{CapFundamentos}

\section{Introdução}
\label{sec:intro2}

Neste capítulo serão apresentados e discutidos os principais tópicos utilizados como fundamentação téorica à realização deste trabalho. Será apresentado um breve histórico sobre epidemiologia e discutidos os principais conceitos da epidemiologia matemática e computacional que serviram de motivação à este trabalho. A seguir serão discutidos conceitos e definições importantes sobre modelagem compartimental juntamente com metodologias computacionais que utilizam-a para a simulação de eventos epidemiológicos. Em sequência serão discutidas fundamentações teóricas relativas à agentes inteligentes, abordando suas classificações, características e tipos de ambientes em que podem estar inseridos. Por fim será apresentada a modelagem \textit{bitstring} proposta neste trabalho, discutindo-se inicialmente conceitos básicos necessários à modelagem e os operadores definidos à manipulação das palavras de \textit{bits}. 

\section{Epidemiologia Matemática e Computacional}
\label{sec:epidemiologia}

Acredita-se que os primeiros estudos epidemiológicos foram realizados na Grécia Antiga por Hipócrates (460-377 a.C.), que investigou diversas epidemias e suas distribuições ambientais. Após sua morte, seus discípulos deram continuidade aos seus estudos, tomando diferentes frentes de trabalho. Em Roma, os trabalhos epidemiológicos foram iniciados por aqueles inspirados em Galeno (201-130 a.C.), um famoso médico grego. Os estudos romanos produziram resultados importantes na área de epidemiologia, destacando-se a introdução dos censos periódicos e o registro compulsório de nascimentos e óbitos. Em 1850 aconteceu na Inglaterra a \textit{London Epidemiological Society} organizada pela sociedade \textit{Royal Medical Society}, em que participaram diversos profissionais proeminentes da área epidemiológica. Entre eles estava John Snow (1813-1858), considerado por muitos o pai da epidemiologia moderna. John Snow conduziu estudos pioneiros sobre a mortalidade por infecção pós-cirúrgica nos hospitais militares na Guerra da Criméia e comprovou que a cólera era causada pela ingestão de um agente microbiano presente em águas contaminadas por materiais fecais, iniciando assim as discussões sobre os mecanismos de transmissão hídrica \cite{Epidemiologia}. 

Ocorreu ainda no século XIX um grande desenvolvimento na área de epidemiologia, destacando-se figuras como Major Greenwood (1888-1949), que introduziu o raciocínio estatístico na pesquisa epidemiológica, contribuindo para a epidemiologia experimental; John Ryle (1889-1950), que propôs a sistematização da História Natural das Doenças; e Jerome Cornfield (1921-1979), que desenvolveu os estimadores de risco relativo e introduziu técnicas de regressão na epidemiologia. Nas décadas de 1960 e 1970 ocorreram grandes transformações na epidemiologia, com a introdução dos computadores e desenvolvimento de técnicas de coleta e análise de dados epidemiológicos. Atualmente a epidemiologia faz uso de abordagens metodológicas inovadoras, como por exemplo técnicas de \textit{Data Mining} \cite{DataMiningEpidemiologia}, que contribuem para a modernização de suas bases e objetos de estudo, abrindo possibilidades para a investigação de grandes processos epidemiológicos em grupos populacionais, a análise de grandes quantidades de dados obtidos em campo e a análise dos dados e das modelagens matemáticas e computacionais. O caráter inovador é bastante incentivado dentro da área, seja pela incorporação de novas metodologias de estudo, novos modelos téoricos ou pela ampliação de objetos de estudos e uso de novas tecnologias \cite{Epidemiologia}.

No Brasil durante o século XIX aconteceram diversos movimentos importantes, com notável contribuição de pesquisadores brasileiros no desenvolvimento da epidemiologia no país. Dentre os mais importantes destacam-se os esforços de Oswaldo Cruz, que trabalhou no saneamento da cidade do Rio de Janeiro, na época capital do país, e no combate de epidemias como a febre amarela, peste bubônica e varíola, que contaram com forte auxílio militar, e Carlos Chagas, que conduziu estudos sobre a malária, conseguindo controlar um surto epidêmico que ocorria na cidade de Itatinga, interior de São Paulo, sendo que seu trabalho é considerado, ainda hoje, referência mundial no combate à doença. Carlos Chagas também descobriu o protozoário causador da tripanossomíase americana, que posteriormente ficou mundialmente conhecida como a \textit{Doença de Chagas} \cite{Epidemiologia}.

Em \cite{Epidemiologia} define-se a epidemiologia como o \textit{"estudo da distribuição e dos determinantes dos eventos ou padrões de saúde em populações definidas, e a aplicação deste estudo para controlar problemas de saúde"}, sendo que sua principal diferença à medicina clínica é no uso de populações em seus estudos. Esse diferencial justifica-se por meio do objetivo final da epidemiologia, que é a de melhorar o perfil de saúde das populações, e não somente de seus indivíduos em particular e que, inferências sobre a relação de determinados fatores e a ocorrência de doenças, somente podem ser realizadas por meio do estudo de populações \cite{Epidemiologia}. Observando a dificuldade da realização de pesquisas em campo devido aos custos, complexidade de organização e até impossibilidade de execução, é interessante a aplicação de conhecimentos matemáticos na modelagem de eventos e dinâmicas epidemiológicas, com o objetivo de descreve-los e estuda-los mais aprofundadamente com base em conhecimentos provenientes da Matemática, pois assim sendo pode-se empregar formulação e modelagens que são interpretações formais de eventos biológicos e físicos, que independem do particular caso estudado, podendo o estudo ser generalizado às situações análogas desde que se tenha o conhecimento dos particulares parâmetros e valores da doença, sendo possível então realizar a simulação dos modelos propostos em ambientes virtuais sob controle. 

A epidemiologia matemática origina-se dessa união entre conhecimentos matemáticos e conhecimentos biológicos e epidemiológicos. Segundo \cite{EpidemiologiaMatematica} ela é fundamentada em hipóteses matemáticas que descrevem aspectos dos fenômenos biológicos e nas interações entre hospedeiros e parasitas, utilizando-se de conhecimentos biológicos sobre o vírus e, também, da interação desse vírus com o hospedeiro ou com o meio ambiente. 

A partir destes conhecimentos desenvolvem-se modelos matemáticos que estão em constante evolução, de acordo com os avanços nos campos das ciências médicas e biológicas. Na maioria das vezes, a construção de modelos matemáticos apoiados em hipóteses é um problema de difícil trato, pois estas devem estar fundamentadas e embasadas matematicamente, sendo esse um objetivo complexo e trabalhoso de se alcançado. A epidemiologia matemática tem por finalidade descrever fenômenos observáveis e não-observáveis e estudar mecanismos de intervenção externa ao sistema de interação hospedeiro-parasita, por meio da construção de modelos que atuam sobre cenários hipotéticos. Assim, a epidemiologia matemática agrega conhecimentos epidemiológicos e matemáticos no estudo de epidemias. Os métodos científicos de construção e validação de modelos aplicados à epidemiologia matemática viabilizam estudar tanto as situações de equilíbrio quanto as epidêmicas de uma doença ao longo do tempo \cite{EpidemiologiaMatematica}, \cite{EpidemicModelling}. 

Em \cite{EpidemicModelling} são discutidos, entre outros temas, os tipos de modelos matemáticos desenvolvidos e estudados na epidemiologia matemática. Pode-se subdividir-se os modelos matemáticos aplicados à epidemiologia em duas grandes classes:
\begin{itemize}
 \item \textbf{Modelos determinísticos:} São modelos em que as populações de indivíduos suscetíveis, infectados e recuperados são descritos como funções de tempo discreto ou de tempo contínuo, por meio de funções diferenciáveis sob parâmetros não aleatórios. Desta forma é possível aplicar operações diferenciais sobre as funções que regem as dinâmicas de infecção, em que não há a inserção de aleatoriedade, sendo que o processo de infecção da doença evolui de acordo como descrito nas suas regras e funções. São amplamente utilizados para descrever a evolução de uma doença em uma população de grandes proporções.
 \item \textbf{Modelos estocásticos:} São modelos em que considera-se uma população de indivíduos, em que cada um destes pertence a uma classe. Os indivíduos da população mudam de classe em instantes de tempo e parâmetros aleatórios dentro de um tempo contínuo ou discreto, respeitando-se os limites das faixas de valores admissíveis biológica ou fisicamente. A aleatoriedade é inerente em processos infecciosos modelados por estes modelos. Eram comumente utilizados em populações de pequeno porte, embora atualmente são aplicados também à modelagem de dinâmicas epidemiológicas em populações de grande porte.
\end{itemize}

A integração de modelos teóricos e computacionais é de grande importância no desenvolvimento de modelos epidemiológicos, pois viabiliza o estudo individual de cada parâmetro inerente aos modelos em ambientes simulados, auxiliando na calibração das dinâmicas modeladas e no extenso estudo dos processos dinâmicos em grandes populações de indivíduos e áreas demográficas, sem que seja necessária intervenção humana no local de estudo. O uso de recursos computacionais na simulação de propagação de doenças por meio de modelos matemáticos epidemiológicos é de grande interesse, pois a cada dia novas tecnologias são apresentadas e o desempenho dos computadores aumenta gradativamente, viabilizando que, cada vez mais, processos epidemiológicos complexos possam ser simulados computacionalmente em tempos de execução satisfatórios. A aplicação de conhecimentos e métodos computacionais à modelagem de epidemias também é interessante por viabilizar a modelagem de comportamentos realísticos das dinâmicas, dos indivíduos e dos ambientes simulados, conferindo maior flexibilidade e versatilidade aos modelos por meio da utilização de técnicas bastante conhecidas das áreas de inteligência artificial, estruturas de dados, georreferenciamento e computação paralela, entre outras metodologias.

\section{Modelos compartimentais: Tipos e Classificações}
\label{sec:modeloscompartimentais}

Em \cite{TecnicasModelagem} divide-se a modelagem biológica em dois grandes grupos: o grupo experimental e o grupo de simulação. No grupo experimental são construídos e estudados matematicamente modelos experimentais, amplamente utilizados na Biologia. O grupo de simulação agrupa os processos e fenômenos que podem ser simulados por meio de ferramentas computacionais. Em geral a modelagem matemática e computacional é uma alternativa metodológica com o objetivo de entender e manipular mecanismos e processos em objetos de estudo, com um propósito preditivo, no sentido de antecipar comportamentos epidêmicos das doenças modeladas. O cerne principal da modelagem, seja ela matemática ou computacional, é a de abstrair as características mais importantes de um sistema natural, descrevendo-a em termos de equações matemáticas ou métodos computacionais.

A abordagem usualmente empregada na modelagem de doenças infecto-contagiosas é a de diagrama de blocos ou em compartimentos, conhecida como modelagem compartimental. Nesta modelagem aplicada à epidemiologia, a população é classificada em categorias, grupos ou compartimentos disjuntos, de acordo com os estados que se queira modelar de uma determinada doença \cite{TecnicasModelagem}. Os indivíduos então transitam, de um compartimento à outro, a partir de determinadas probabilidades, taxas ou parâmetros, que dependem das características da dinâmica espaço-temporal da doença. Supondo que $N(t)$ designa a quantidade total de indivíduos num nível de tempo $t$ e tomando uma modelagem compartimental, os indivíduos que compõem a população podem ser divididos em classes do tipo suscetíveis, $S(t)$; latentes ou expostos, $E(t)$; infectados, $I(t)$; e recuperados ou removidos, $R(t)$, de modo que $S(t)+E(t)+I(t)+R(t)=N(t)$, visto a conservatividade na quantidade de indivíduos na população.

Esses possíveis estados em que cada indivíduo pode estar em um determinado instante de tempo, comumente modelados utilizando-se modelagem compartimental, são conceituados como:
\begin{itemize}
 \item \textbf{Suscetível, $S$:} Indica que o indivíduo ainda não contraiu a doença e está apto a adquiri-la.
 \item \textbf{Exposto ou latente, $E$:} Indica que o individíduo contraiu a doença, mas ainda não pode transmiti-la à outros por um determinado período.
 \item \textbf{Infectado, $I$:} Indica que o indivíduo está infectado com a doença por um determinado período e é capaz de transmiti-la à outros que estejam no estado suscetível.
 \item \textbf{Recuperado ou removido, $R$:} Indica que o indivíduo já foi infectado com a doença anteriormente e não pode transmiti-la nem contaminar-se novamente em um determinado período.
\end{itemize}

Considerando-se os estados relacionados com o processo infecto-contagioso, usuais modelos empregados são:
\begin{itemize}
 \item \textbf{Modelo Suscetível-Infectado-Suscetível, SIS:} Modelo empregado em situações em que a doença não apresenta período de latência após a infecção e não confere imunidade, passando os indivíduos do compartimento infectado para o suscetível.
 \item \textbf{Modelo Suscetível-Infectado-Recuperado, SIR:} Modelo empregado em doenças em que não há período de latência após a infecção e os indivíduos infectados podem recuperar-se e adquirir imunidade permanente.
 \item \textbf{Modelo Suscetível-Exposto-Infectado-Recuperado, SEIR:} Utilizado em doenças com periódo de latência após a infecção e que conferem imunidade permanente.
 \item \textbf{Modelo Suscetível-Exposto-Infectado-Recuperado-Suscetível, SEIRS:} Utilizado em doenças com período de latência após a infecção e que não conferem imunidade permanente, passando os indivíduos do compartimento recuperado ao suscetível novamente.
\end{itemize}

Neste trabalho é utilizado como base à modelagem de dinâmicas epidemiológicas o modelo SEIRS, visto que é um modelo mais abrangente por permitir a modelagem de quatro estados, podendo ser utilizado na modelagem de um amplo conjunto de epidemias. O fluxo de transição de estado dos indivíduos para o modelo simplificado SEIRS, desconsiderando as taxas de nascimento, morte de indivíduos e de migração, é como mostrado na Figura \ref{fig:modelo}.

\begin{figure}[!htb]
  \centering
  \includegraphics[width=0.65\textwidth]{Figuras/modelo.eps}
  \caption{Fluxo compartimental no modelo SEIRS.}
  \label{fig:modelo}
\end{figure} 

No diagrama apresentado na Figura \ref{fig:modelo}, $\beta$ designa a taxa de transmissão da doença decorrente do encontro de indivíduos suscetíveis com infectantes. Após ser infectado o indivíduo entra em um estado de latência, permanencendo neste estado por um determinado tempo, designado pela taxa $\gamma$. O parâmetro $\alpha$ designa a taxa de recuperação, em que indivíduos infectantes se recuperam da doença, ficando imunes à ela. O taxa de perda de imunidade de indivíduos à doença é caracterizada por $\delta$, passando eles novamente ao estado suscetível.

Considerando-se estes modelos compartimentais e suas características, os principais metodologias matemáticas ou computacionais empregadas na sua simulação são:
\begin{itemize}
  \item \textbf{Equações Diferenciais Ordinárias:} Nesta abordagem descreve-se matematicamente o fluxo de transição dos possíveis estados dos indivíduos no modelo SEIRS por meio de um sistema de equações diferenciais ordinárias não lineares, EDOs. A abordagem em EDOs é de particular interesse na modelagem de eventos epidemiológicos, pois possibilita a análise matemática das equações afim de encontrar pontos de equilíbrio e estudar demais propriedades de interesse. Se $N=S(t)+E(t)+I(t)+R(t)$ designa o tamanho fixo da população de indivíduos, em que suas quantidades são funções do tempo, obtém-se os problemas de valor inicial, PVI, para o modelo compartimental apresentado na Figura \ref{fig:modelo}, para o caso contínuo e discreto, como apresentados em \ref{eq:PVI}.(a) e \ref{eq:PVI}.(b).
  
  \newpage
  
  \begin{multicols}{2}
    \begin{equation*}
      \begin{cases}
	\frac{dS(t)}{dt} = & - \frac{\beta}{N} \, I(t) \, S(t) + \delta \, R(t) \\
	& S(0) = S_{0} \\
	\frac{dE(t)}{dt} = & + \frac{\beta}{N} \, I(t) \, S(t) - \gamma \, E(t) \\
	& E(0) = E_{0} \\
	\frac{dI(t)}{dt} = & + \gamma \, E(t) - \alpha \, I(t) \\
	& I(0) = I_{0} \\
	\frac{dR(t)}{dt} = & + \alpha \, I(t) - \delta \, R(t) \\
	& R(0) = R_{0} \\
      \end{cases}
    \end{equation*} \hspace{3cm} (a)
    
    \begin{equation}
      \begin{cases}
	S^{n} = & S^{n - 1} - \frac{\beta}{N} \, I^{n - 1} \, S^{n - 1} + \delta \, R^{n - 1} \\
	& S^{0} = S_{0} \\
	E^{n} = & E^{n - 1} + \frac{\beta}{N} \, I^{n - 1} \, S^{n - 1} - \gamma \, E(t)^{n - 1} \\
	& E^{0} = E_{0} \\ 
	I^{n} = & I^{n - 1} + \gamma \, E^{n - 1} - \alpha \, I(t)^{n - 1} \\
	& I^{0} = I_{0} \\
	R^{n} = & R^{n - 1} + \alpha \, I^{n - 1} - \delta \, R^{n - 1} \\
	& R^{0} = R_{0} \\
      \end{cases}
      \label{eq:PVI}
    \end{equation} \hspace{3cm} (b)
  \end{multicols}
  
  Nas formulações apresentadas em \ref{eq:PVI}, $S_0$, $E_0$, $I_0$ e $R_0$ representam, respectivamente, as distribuições iniciais das populações de suscetíveis, latentes, infectantes e recuperados, e $n$ indica o nível de tempo do cálculo.
  Modelos em EDO são bastante utilizados e particularmente interessantes por viabilizarem a realização da análise matemática de suas soluções, o que contribui ao estudo e validação do modelo. Em \cite{EDOEpidemiologia} são estudadas questões relativas à estabilidade de um modelo SIR com sistema de vacinação pulsada. Em \cite{EDOsModelos} é discutido detalhadamente os métodos utilizados à análise matemática de modelos epidemiológicos, sobretudo questões de estabilidade e instabilidade em sistemas não-lineares.

  \item \textbf{Autômatos Celulares:} Autômatos celulares, AC, podem ser classificados como sendo modelos de sistemas dinâmicos discretos no espaço e no tempo, que operam sobre um \textit{lattice} contendo uma quantidade finita ou infinita de células. São caracterizados por iterações locais em que cada célula está associada a um estado ou fase por meio de conjunto discreto de valores. A atualização do estado é realizada a partir dos estados das células vizinhas de acordo com regras locais. ACs possuem um domínio especificado pelo ambiente ou espaço celular em que estes são operados; um espaço de estados das células em que cada célula do \textit{lattice} possui determinado estado; a vizinhança de cada célula; e a regra de transição local que atua sobre a célula de modo que seu estado pode variar ao ocorrer uma transição. Considerando-se as expressões para o domínio e a regra de transição, e tomando a condição de contorno periódica, o AC para o modelo SEIRS apresentado na Figura \ref{eq:PVI} é como:
  \begin{equation}
  \label{eq:AC-SEIRS}
  \left\{
  \begin{array}{l l l}
  s_{i,j}^{t+1}=s_{i,j}^t - \beta s_{i,j}^t i_{i,j}^t - s_{i,j}^t \bigg( \sum \limits _{ \substack{(\alpha,\beta) \in \mathcal{V}^*}} \mu_{\alpha, \beta}^{(i,j)}  \frac{N_{i+\alpha, j+\beta}}{N_{i,j}} i_{i+\alpha,j+\beta}^t\bigg) + \delta r_{i,j}^t\\

  e_{i,j}^{t+1}=e_{i,j}^t + \beta s_{i,j}^t i_{i,j}^t + s_{i,j}^t \bigg( \sum \limits _{ \substack{(\alpha,\beta) \in \mathcal{V}^*}}  \mu_{\alpha, \beta}^{(i,j)}  \frac{N_{i+\alpha, j+\beta}}{N_{i,j}} i_{i+\alpha,j+\beta}^t \bigg) - \gamma e_{i,j}^t\\

  i_{i,j}^{t+1}=i_{i,j}^t + \gamma e_{i,j}^t - \alpha i_{i,j}^t \\

  r_{i,j}^{t+1}=r_{i,j}^t + \alpha i_{i,j}^t - \delta r_{i,j}^t \\

  s_{i,j}^0 > 0, \quad e_{i,j}^0 \geq 0, \quad i_{i,j}^0 > 0, \quad r_{i,j}^0 \geq 0,
  \end{array}
  \right.
  \end{equation}
  
  Em \eqref{eq:AC-SEIRS} $\beta$ designa a taxa de infecção dos indivíduos suscetíveis por infectantes que ocupam uma mesma posição no \textit{lattice}, $\mu$ designa a taxa em que indivíduos infectantes transmitem a doença à individuos suscetíveis que estejam em posições vizinhas à sua no \textit{lattice}, $\gamma$ designa a taxa de transição de indivíduos do estado exposto para infectante, $\alpha$ designa a taxa de recuperação dos indivíduos infectantes e $\delta$ designa a taxa de perda de imunidade dos indivíduos recuperados.
  
  A solução de \eqref{eq:AC-SEIRS} é obtida por meio da evolução espaço-temporal do AC que fornece os estados finais a partir do cálculo dos estados iniciais. A transição se dá num nível de tempo $t$ para o consecutivo nível de tempo $t+1$. Em modelagens utilizando ACs é importante adequar os parâmetros da dinâmica afim de garantir a conservatividade na quantidade de indivíduos da população, evitando-se resultados errôneos como o apresentado em \cite{White}.

  \item \textbf{\textit{Lattice Gas Cellular Automata}:} \textit{Lattice Gas Cellular Automata}, LGCA, são um particular tipo de autômato celular utilizados principalmente na simulação de escoamento e fluxo de fluídos, por meio da modelagem de partículas \cite{LGCA}. Neste modelo, especificamente aplicado à epidemiologia, as partículas são entidades discretas, como os indivíduos da população, em determinados estados, que interagem entre si localmente e se movem no \textit{lattice}. O tratamento dos indivíduos como entidades discretas viabilizam a randomicidade local nas interações e são apropriadas à simulações computacionais. A transmissão da doença ocorre apenas quando um indivíduo suscetível encontra um indivíduo infectante, de forma que a modelagem da movimentação dos indivíduos é de grande importância em modelos deste tipo \cite{LGCAEpidemiologia}. Geralmente são modelados os processos de propagação e colisão. No processo de propagação as partículas são movidas em sua vizinhança à determinadas velocidades, em que somente uma partícula pode ser movimentar em cada conexão entre os elementos na célula do \textit{lattice}. No processo de colisão, regras são utilizadas para determinar o que acontece quando duas ou mais partículas estão em uma mesma posição do \textit{lattice}. Para a construção de um LGCA deve-se especificar um modelo que atenda as características de um autômato celular na fase de propagação e é preciso definir quais regras de colisão que serão utilizadas, que depende do problema ou da dinâmica que será modelada.
  
  \item \textbf{Sistemas multiagentes:} Sistemas multiagente consistem na especificação de agentes com objetivos definidos, que interagem entre si e com um ambiente. Na epidemiologia computacional, agentes baseados em modelos são definidos espaço-temporalmente especificando-se como ocorre a transição do seu estado e seu movimento no ambiente ao longo do tempo. A especificação formal de um agente pode ser realizada por meio de um operador de evolução, que é a composição dos operadores de transição temporal, que realiza a transição do estado do agente considerando sua interação com outros agentes e com o ambiente, e de transição espacial, que movimenta os agentes de uma posição à outra dentro do ambiente, considerando seus atributos de conectividade e mobilidade. Sistemas multiagente são interessantes por viabilizarem a modelagem das classes de indivíduos independentemente umas das outras, por sua natureza intrínsecamente paralela, facilitando o desenvolvimento de sistemas multiagentes que podem ser computados em paralelo.

\end{itemize}

Especificamente neste trabalho o enfoque será no uso da abordagem de sistemas multiagente à modelagem e implementação do modelo SEIRS descrito anteriormente. Na Seção \ref{sec:agentesinteligentes} serão apresentados e discutidos em detalhes as características e classificações de agentes e ambientes em que podem estar inseridos, assim como outros conceitos importantes ao tema. 

\section{Agentes Inteligentes}
\label{sec:agentesinteligentes}

Segundo \cite{ArtificialIntelligence} um agente é uma entidade que, por meio de sensores, pode perceber o meio ambiente em que está inserido, podendo agir sobre este por meio de atuadores, sendo capaz de perceber suas próprias ações, mas nem sempre seus efeitos. É capaz de agir de forma autônoma no ambiente com o intuito de atingir seus objetivos. A exemplo de um agente humano, os olhos, nariz e ouvidos seriam sensores e os braços, mãos e boca seriam os atuadores. Agentes robóticos podem contar com sensores eletrônicos, como câmeras e infravermelho e como atuadores diversos motores e braços mecânicos. Agentes de \textit{software} podem receber, por exemplo, pacotes de rede e agir enviando outros através da rede. A escolha da ação de um agente em um determinado instante de tempo pode depender de todas as percepções realizadas até aquele momento, e não somente da percepção atual. 

O comportamento de um agente pode ser descrito matematicamente por meio de funções, que mapeiam uma ou várias percepções em uma ação. Entre os distintos tipos de agentes estão os agente racionais que, para cada possível conjunto de percepções, selecionam uma ação que maximize seu desempenho no ambiente, levando em conta seu conhecimento construído ao longo do tempo. 

Para a avaliação do sucesso de um agente, é indispensável uma medida de desempenho objetiva, que possa representar claramente como avaliar o desempenho do agente, quando atuando no ambiente. Geralmente, em problemas de otimização, uma função de avaliação é implementada pelos agentes, em que objetiva-se a minimização ou maximização de uma determinada dinâmica ou recurso.

Agentes inteligentes são amplamente utilizados na análise e modelagem matemática e computacional, análise e desenvolvimento de robôs, na área de robótica, em sistemas de extração de informações ou monitoramento de comportamentos ou recursos, em redes de aprendizado e decisão, em jogos eletrônicos, em sistemas comerciais de \textit{marketing} e propaganda, entre diversas outras aplicações.

Um agente, para ser considerado inteligente, deve ser capaz de desempenhar funções autônomas para atingir seus objetivos. Desta forma, quatro conceitos são importantes afim de determinar se um agente é ou não inteligente \cite{IntelligentAgents} e \cite{IntelligentAgentsTheory}.

\begin{itemize}
 \item \textbf{Autonomia:} Agente inteligentes devem ser capazes de agir sem intervenções diretas de humanos ou outros mecanismos externos, tendo controle sobre suas ações e seu estado.
 \item \textbf{Reatividade:} Agentes inteligentes devem ser capazes de perceber seu ambiente e responder, em um tempo hábil, à mudanças que ocorreram, com o intuito de atingir seus objetivos.
 \item \textbf{Pró-atividade:} Agentes inteligentes devem ser capazes de mostrar um comportamento direcionado à objetivos, tomando a iniciativa para alcançá-los.
 \item \textbf{Sociabilidade:} Agentes inteligentes devem ser capazes de interagir com outros agentes para satisfazer seus objetivos.
\end{itemize}

Um importante componente que interage com o agente é o ambiente. O ambiente pode ser definido como o meio em que os agentes atuam e interagem entre si, sendo que as ações e interações entre os agentes provocam mudanças no ambiente, que são percebidas por estes. Em \cite{ArtificialIntelligence} e \cite{IntelligentAgents} são apresentadas diversas classificações para ambientes, destacando-se:

\begin{itemize}
 \item \textbf{Ambiente totalmente observável ou parcialmente observável:} Um ambiente é totalmente observável se os sensores dos agentes que estão inseridos neste ambiente são capazes de prover ao agente o estado completo do ambiente, fornecendo informações relevantes para a escolha de ações. Ambientes totalmente observáveis são interessantes pois os agentes não precisam manter informações internas sobre o estado do ambiente. Um ambiente é parcialmente observável se os sensores dos agentes não são capazes de prover informações do estado do ambiente como um todo, seja por imprecisões ou devido à informações que estão ocultas ou não podem ser obtidas.
 \item \textbf{Determinístico ou estocástico:} Em um ambiente determinístico, seu próximo estado é completamente determinado pelo estado atual e as ações executadas pelos agentes contidos nele. Neste tipo de ambiente, os agentes não precisam se preocupar sobre incertezas, se o ambiente for totalmente observável. Em ambientes estocásticos, o estado futuro do ambiente não depende somente de seu estado atual e das ações de seus agentes, podendo depender de outras informações ou acontecimentos aleatórios. Ambientes parcialmente observáveis geralmente também são ambientes estocásticos.
 \item \textbf{Episódico ou sequencial:} Em um ambiente episódico, as experiências dos agentes são divididas em episódios atômicos, que consistem na percepção do agente e a execução de uma única ação. O episódio futuro não depende de ações ou informações dos episódios passados, sendo que as ações tomadas no episódio atual depende somente dele próprio. Em ambientes sequenciais as decisões atuais podem afetar as decisões que serão tomadas no futuro. Em geral, ambientes episódicos são muito mais simples do que ambientes sequenciais, pois os agentes não precisam planejar ações futuras.
 \item \textbf{Dinâmico ou estático:} Ambientes que podem mudar de estado enquanto os agentes estão tomando suas decisões de ação são chamados de dinâmicos. O ambiente está constantemente perguntando aos agentes que ações realizarão. Se um agente não decidiu sua ação, o ambiente infere que sua ação é de não realizar nada. Em ambientes estáticos os agentes não precisam se preocupar com o estado atual do meio enquanto decidem qual ação tomar e nem com a passagem do tempo. Ambientes estáticos geralmente são facilmente manipuláveis, sob o ponto de vista dos agentes.
 \item \textbf{Discreto ou contínuo:} A distinção entre ambientes contínuos e discretos pode ser realizada por meio do estado do meio, da forma como o tempo é tratado ou considerado e das percepções e ações dos agentes. Em ambientes discretos, o tempo e seus estados assumem valores finitos e discretos ou são discretizações de informações contínuas, enquanto em ambientes contínuos, essas informações assumem valores infinitos ou contínuos.
 \item \textbf{Agente único ou multiagente:} Diz respeito ao número de agentes interagindo e atuando no ambiente. Em ambientes de agente único, somente um agente está interagindo e agindo sobre o ambiente, enquanto que em ambientes multiagente, há diversos agentes, que tanto interagem entre si, quanto interagem com o ambiente. Ambientes multiagente podem ainda ser classificados em ambientes competitivos, onde os agentes, em grupos ou individualmente, tomam suas decisões levando em conta a maximização de seu desempenho e a minimização do desempenho de outros, e em ambientes cooperativos, onde os agentes tomam suas decisões tentando maximizar o desempenho de todos os agentes, como um único grupo. 
 \end{itemize}

Quanto aos agentes em particular, pode-se classificá-los em quatro tipos básicos, de acordo com suas características e aplicações: \cite{ArtificialIntelligence}, \cite{IntelligentAgents}, \cite{IntelligentAgentsTheory}.
\begin{itemize}
 \item \textbf{Agentes reativos simples:} Tipo mais simples de agente, com inteligência bastante limitada. São caracterizados pela escolha de ações somente levando em consideração a percepção atual, ignorando seu histórico de percepções. Sua tomada de decisão é baseada em regras do tipo condição-ação, também chamadas de regras de se-então. A condição consiste na percepção atual que o agente recebe de seus sensores e a ação é atuação do agente de acordo com a percepção. São eficazes em ambientes totalmente observáveis onde as decisões corretas podem ser tomadas partindo das percepções atuais do agente. Agentes reativos simples podem randomizar parte de seu processo de decisão afim de reduzir sua probabilidade de entrada em um estado de repetição infinita de decisões, que pode ser prejudicial em aplicações multiagente.
 \item \textbf{Agentes reativos baseados em modelos:} Agentes especialmente usados em ambientes parcialmente observáveis, que são capazes de manter informações sobre o ambiente, com base em suas percepções, de forma a refletir aspectos atualmente não observáveis do meio. Em geral, esse tipo de agente tem o conhecimento sobre como o ambiente evolui independentemente e como suas ações afetam o meio em que está inserido. 
 \item \textbf{Agentes baseados em objetivos:} Nem sempre conhecer o estado atual do ambiente é o suficiente para o agente tomar a decisão correta sobre suas ações. Algumas vezes é necessário que o agente saiba quais estados ou situações são desejáveis. No geral, agentes baseados em objetivos tomam suas decisões levando em conta suas percepções, o conhecimento que adquirem do meio ambiente e seus objetivos. O objetivo pode ser alcançado por simples ações individuais dos agentes ou este pode ter que planejar uma sequência de ações, e pode até mesmo ter que colaborar com outros agentes. Agentes baseados em objetivos são mais flexíveis pois podem ser reconfigurados a qualquer momento de acordo com suas percepções ou mesmo externamente.
 \item \textbf{Agentes baseados em utilidades:} Na maioria dos ambientes, o incorporação de objetivos no agente não é suficiente para modelar comportamentos de alta qualidade. Muitas vezes é necessário agregar diferentes estados não científicos, como sentimentos ou adjetivos. Agentes baseados em utilidades fazem uso de uma função de utilidade que mapeia estados ou percepções em um número real, que está associado ao nível de utilidade do agente. Dependendo do nível de utilidade do agente, este pode decidir por diferentes ações estando em um determinado estado, com o objetivo de aumentar seu nível de utilidade de acordo com a realização de ações. 
\end{itemize}

Essas classificações podem derivar a uma classe mais abrangente: os agentes cognitivos. Agentes cognitivos podem ser utilizados em ambientes totalmente desconhecidos e tornar-se mais competentes e eficazes por meio do ganho de conhecimento. São capazes de aprender e melhorar suas decisões, por meio das experiências e ações tomadas em tempos passados. Podem medir seu desempenho afim de melhorá-lo no futuro. Apresentam um componente importante: o gerador de problemas, que sugere ações ao agente que podem conduzir à obtenção de novas informações e experiências. Podem também apresentar mecanismos de recompensa ou penalidade, que atuam de acordo com seu desempenho e comportamento. Agentes cognitivos são difíceis de modelar e implementar, por apresentarem comportamentos complexos que mimetizam inteligência, como a de seres humanos ou animais \cite{ArtificialIntelligence}.

A utilização de sistemas multiagentes é interessante pois viabiliza a modelagem e representação computacional dos agentes de diversas formas, sendo atraente compará-las com outras abordagens em aspectos computacionais como o consumo de memória ou o tempo de processamento. Neste trabalho objetiva-se utilizar a abordagem de sistemas multiagentes, com agentes reativos baseados em modelos, inseridos em um ambiente parcialmente observável, estocástico, episódico, estático e de tempo discreto, para a implementação de dois sistemas que utilizem diferentes formas de representação computacional dos agentes. A primeira forma é aquela utilizada comumente, em que, utilizando recursos providos pela linguagem de programação, agrupa-se os atributos dos agentes em estruturas ou classes de alto nível, fornecendo acesso direto sem nenhuma operação adicional à esses atributos. A segunda forma fará uso de palavras computacionais, como os tipos primitivos das linguagens de programação, com o objetivo de utilizar diretamente seus \textit{bits} no armazenamento, recuperação e configuração dos atributos dos agentes. Na Seção \ref{sec:bitstring} serão discutidos conceitos basilares à utilização da metodologia proposta para a implementação computacional da segunda forma, definindo-se a organização e as operações em \textit{bits} relativas à descrição e manipulação dos atributos dos agentes.

\section{Metodologia de \textit{Bitstring}}
\label{sec:bitstring}

O modelo \textit{bitstring} baseia-se na manipulação direta de \textit{bits} de uma palavra computacional para representar atributos pertencentes aos elementos modelados. A utilização de um modelo \textit{bitstring} justifica-se principalmente pelo fato de que, nesta metodologia, as informações são agrupadas de maneira otimizada, diminuindo o espaço de memória utilizado e, por meio de operações binárias e de deslocamentos, permitirem a rápida manipulação dos dados. Pode-se ainda, dependendo da dimensão do problema, carregar o programa inteiro à memória cache do computador, que é uma memória de alta velocidade próxima à CPU, otimizando ainda mais o processo de execução do programa. 

Neste trabalho a aplicação da metodologia de \textit{bitstring} justifica-se pela simplificação que esta traz às estruturas de dados que serão utilizadas, sendo que estruturas de dados dinâmicas são de difícil manipulação em arquiteturas tipo GPGPU, e estruturas de dados contíguas em memória são adequadas à arquiteturas deste tipo. Estruturas de dados contíguas em memória, também conhecidas como vetores, são facilmente utilizáveis e suficientes aos propósitos da modelagem \textit{bitstring} à representação computacional dos agentes. Esta metodologia também apresenta uso otimizado da memória, que será determinante no ganho de desempenho na posterior paralelização que será realizada utilizando a plataforma CUDA. A redução do uso de memória também é importante por diminuir a quantidade de dados que serão transferidos entre a CPU e a GPU, reduzindo o tempo à realização de cópias de dados entre os componentes.

Para a implementação de modelos \textit{bitstring} é necessário utilizar uma linguagem de programação que viabilize operações diretas à \textit{bits}. Em diversas linguagens, a exemplo Fortran e C, é possível manipular seus tipos primitivos, \textit{bit} a \textit{bit}, por meio de operações da álgebra booleana, como a negação, conjunção, disjunção e deslocamentos. Os tipos primitivos que podem ser utilizados em operações de \textit{bitstring}, ou seja, que apresentam seus \textit{bits} dispostos de forma contígua na memória, também podem ser chamados de palavras computacionais. É natural, quando da utilização da técnica de \textit{bitstring}, a aplicação de operações em palavras computacionais com o objetivo de manipular seus \textit{bits}. Os \textit{bits} dentro de uma palavra computacional podem ser discriminados quanto à sua posição. Os \textit{bits} mais à esquerda da palavra são chamados de \textit{bits} mais significativos, enquanto \textit{bits} mais à direita da palavra são chamados de \textit{bits} menos significativos. Esses termos advém do fato de que, quando no processo de conversão de números binários para decimais, os \textit{bits} mais à esquerda têm maior magnitude do que os \textit{bits} mais à direita. Os tipos primitivos mais interessantes ao uso da técnica de \textit{bitstring} são os inteiros, que geralmente contém $32$ \textit{bits} e os reais, que geralmente contém $64$ \textit{bits}. As principais operações binárias que podem ser utilizadas em uma modelagem \textit{bitstring} são explícitadas a seguir.

\begin{itemize}
 \item \textbf{Operação de negação:} A operação de negação, também conhecida como NOT, é uma operação unária, ou seja, que é aplicada a somente um operando, que consiste em tomar o complemento de um dígito binário. Se o operando de entrada for $0$, será retornado $1$ e se for $1$ será retornado $0$. Sua tabela verdade pode ser expressa como na Tabela \ref{tab:negacao}.

  \begin{table}[h!]
  \centering
  \begin{tabular}{c|c}
    Entrada & Saída \\ \hline
    0 & 1 \\
    1 & 0 \\
  \end{tabular}
  \caption{Tabela verdade para a operação unária de negação.}
  \label{tab:negacao}
  \end{table} 
 
 \item \textbf{Operação de conjunção:} A operação de conjunção, também conhecida como AND, é uma operação binária, ou seja, que é aplicada a dois operandos, que retorna um \textit{bit} $1$ somente se os dois operandos foram $1$, e $0$ caso contrário. Sua tabela verdade pode ser expressa como na Tabela \ref{tab:conjuncao}.

  \begin{table}[h!]
  \centering
  \begin{tabular}{c|c|c}
    Entrada 1 & Entrada 2 & Saída \\ \hline
    0 & 0 & 0 \\
    0 & 1 & 0 \\
    1 & 0 & 0 \\
    1 & 1 & 1 \\
  \end{tabular}
  \caption{Tabela verdade para a operação binária de conjunção.}
  \label{tab:conjuncao}
  \end{table} 
 
 \item \textbf{Operação de disjunção inclusiva:} A operação de disjunção inclusiva, também conhecida como OR, é uma operação binária que retorna um \textit{bit} $1$ se ao menos um dos operandos for $1$, e $0$ caso contrário. Sua tabela verdade pode ser expressa como na Tabela \ref{tab:disjuncaoinclusiva}.
 
 \newpage
 
  \begin{table}[h!]
  \centering
  \begin{tabular}{c|c|c}
    Entrada 1 & Entrada 2 & Saída \\ \hline
    0 & 0 & 0 \\
    0 & 1 & 1 \\
    1 & 0 & 1 \\
    1 & 1 & 1 \\
  \end{tabular}
  \caption{Tabela verdade para a operação binária de disjunção inclusiva.}
  \label{tab:disjuncaoinclusiva}
  \end{table} 
 
 \item \textbf{Operação de disjunção exclusiva:} A operação de disjunção exclusiva, também conhecida como XOR, é uma operação binária que retorna um \textit{bit} $1$ se somente um dos operandos for $1$, e $0$ caso contrário. Sua tabela verdade pode ser expressa como na Tabela \ref{tab:disjuncaoexclusiva}.

  \begin{table}[h!]
  \centering
  \begin{tabular}{c|c|c}
    Entrada 1 & Entrada 2 & Saída \\ \hline
    0 & 0 & 0 \\
    0 & 1 & 1 \\
    1 & 0 & 1 \\
    1 & 1 & 0 \\
  \end{tabular}
  \caption{Tabela verdade para a operação binária de disjunção exclusiva.}
  \label{tab:disjuncaoexclusiva}
  \end{table} 
 
 \item \textbf{Operações de deslocamento:} As operações de \textit{shift} ou de deslocamento consistem em operar um conjunto de \textit{bits} em uma palavra computacional em um determinado fator, à esquerda ou à direita. As operações de deslocamento podem ser realizadas de duas maneiras:
  \begin{itemize}
  \item \textbf{Deslocamentos não circulares:} São deslocamentos em que os \textit{bits} expelidos de uma extremidade da palavra são descartados, de modo que novos \textit{bits} com valor $0$ são inseridos na extremidade oposta para manter seu tamanho constante. Tomando como exemplo uma palavra de $5$ \textit{bits}, $01001_2$, e aplicando um deslocamento não circular de fator $1$ à direita, a palavra resultante do processo é $00100_2$. Note que o \textit{bit} menos significativo foi perdido e um \textit{bit} $0$ foi inserido na posição mais significativa da palavra.
  \item \textbf{Deslocamentos circulares:} São deslocamentos em que os \textit{bits} expelidos de uma extremidade da palavra são inseridos na extremidade oposta, conservando os \textit{bits} deslocados dentro da palavra. Tomando novamente como exemplo a palavra $01001_2$, se aplicado um deslocamento circular de fator $1$ à direita, a palavra resultante é $10100_2$. Note que o \textit{bit} menos significativo, que foi expelido na extremidade à direita da palavra, foi reinserido na extremidade à esquerda da palavra.
  \end{itemize}
\end{itemize}

Neste trabalho de conclusão de curso propõe-se o uso da metodologia de \textit{bitstring} para a modelagem dos atributos dos agentes constituintes da população de indivíduos no sistema multiagente. Por meio das operações citadas anteriormente, serão definidos métodos para a captura e configuração dos atributos dos agentes de forma otimizada, utilizando uma linguagem de programação que seja apropriada às operações aqui descritas.

\section{Revisão Bibliográfica}
\label{sec:revisao_bibliografica}

Em \cite{AgentBasedModel} é proposto e implementado um modelo baseado em agentes para a propagação de doenças infecciosas, utilizando diversos modelos compartimentais. O principal objetivo do trabalho foi estudar modelos baseados em agentes para propagação de doenças sob importantes aspectos como a estimação de parâmetros, os padrões de contato sociais e a eficiência computacional. Afim de melhorar a eficiência computacional da implementação realizada em C++, o autor utilizou a API OpenMP à paralelização do código.

Em \cite{EfficientSimulationOf} são estudados, entre outros aspectos, mecanismos para a paralelização de simulações com milhões de agentes baseados em modelos, explorando diferentes arquiteturas paralelas como Multi-GPUs e Clusters, bem como diferentes plataformas disponíveis como o CUDA, \textit{pthreads} e MPI. Os autores concluem que a solução proposta no trabalho é executada até quatro vezes mais rápida em arquiteturas Multi-GPUs.

Em \cite{AFrameworkFor} são apresentados diversos algoritmos paralelizáveis em nível de dados para a simulação de modelos baseados em agentes e proposto um alocador para a replicação de agentes. Os autores afirmam que os algoritmos apresentados no trabalho podem ser facilmente implementados em arquiteturas GPGPU, viabilizando ganhos de desempenho substanciais, e concluem, entre outras questões, que o ganho de desempenho obtido em arquiteturas GPGPU é interessante, porém a implementação utilizando esta tecnologia ainda é contra-intuitiva. 

Em \cite{GPGPUParallelization} é investigado a efetividade de arquiteturas GPGPU na aceleração da execução de simulações de modelos baseados em agentes, com o objetivo de auxiliar a tomada de decisão em políticas públicas relacionadas à pandemias como a Influenza. Os resultados apresentados no trabalho mostram \textit{speedups} de 94\% em simulações implementadas em GPU com até 50 milhões de agentes. Os autores concluem que a implementação realizada é escalável linearmente no número de pessoas, sendo interessante seu uso no auxílio em tomadas de decisão em tempo real.

Em \cite{GPUAccelerated} utilizou-se um modelo SIR para simular a propagação de doenças em um modelo baseado em agentes. A implementação do modelo foi realizada utilizando a linguagem de programação C++ e as bibliotecas OpenMP e CUDA foram aplicadas à sua paralelização. Os resultados apresentados no trabalho mostram ganhos de desempenho interessantes, tanto no uso do OpenMP, quanto no uso do CUDA. O autor conclui, entre outros aspectos, que o \textit{speedup} obtido na implementação realizada em GPU aumenta conforme o porte da simulação cresce, até que se atinja os limites de memória da GPU.

Em \cite{TeseBitstring} foi proposto e utilizado um modelo \textit{bitstring} ao estudo e simulação da propagação do vírus da Dengue. O modelo foi implementado utilizando a linguagem de programação Fortran e a manipulação dos \textit{bits} das palavras computacionais foi realizada através de funções próprias fornecidas pela linguagem. A respeito da aplicação do modelo \textit{bitstring} na simulação da Dengue, o autor conclui que o modelo proposto viabiliza a otimização no uso de memória e de processamento em cerca de até 80\%.